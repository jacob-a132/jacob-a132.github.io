<html style="background-image: url('https://cdn.pixabay.com/photo/2022/11/07/17/41/christmas-trees-7576912_640.jpg'); background-size: cover;">
  <body style="margin-left: 25%; margin-right: 25%; margin-top: 10%; font-size: 16px;">
    <h1>
      Secret Santa 2024
    </h1>

    <h3>Participents:</h3>
    <ul>
      <li>Jacob</li>
      <li>Meghan</li>
      <li>Jon</li>
      <li>Joey</li>
      <li>Patty</li>
      <li>Frank</li>
      <li>Ann</li>
    </ul>  

    <h3>Find out who you are buying for</h3>
    
    <div>
      <div>
        <label style="width: 80px; display: inline-block;">Name</label>
        <input id="name" type="textbox" name="" >
      </div>
      <div>
        <label style="width: 80px; display: inline-block;">Password</label>
        <input id="password" type="textbox" name="" >
      </div>
      <div style="margin: 15px; margin-left: 20px">
        <input type="button" value="Go" onclick="Go()" >
      </div>

      <div id="errorDiv" style="display: none;">
        Wrong name/password
      </div>

      <div id="recipientsWrapper" style="display: none;">
        You will buy gifts for:
        <div style="font-weight: bold;" id="recipient1" ></div>
        <div style="font-weight: bold;" id="recipient2" ></div>
      </div>
    </div>

    <script type="text/javascript">
      function Go() {
        document.getElementById('errorDiv').style = "display: none;";

        const name = document.getElementById('name').value;
        const password = document.getElementById('password').value;

        passwords = {
          "jacob": "jaguar40",
          "meghan": "lemur25",
          "jon": "coyote81",
          "joey": "hamster40",
          "patty": "fox77",
          "ann": "frog30",
          "frank": "rooster16",
        }

        if(name.toLowerCase() in passwords && password === passwords[name.toLowerCase()]){
          fetch('./choices.json')
            .then((response) => response.json())
            .then((allChoices) => {
              const choices = allChoices[name.toLowerCase()];
              const name1 = choices[0];
              const name2 = choices[1];
              document.getElementById('recipientsWrapper').style = "";
              document.getElementById('recipient1').innerHTML = name1.charAt(0).toUpperCase() + name1.slice(1);
              document.getElementById('recipient2').innerHTML = name2.charAt(0).toUpperCase() + name2.slice(1);
            });
        } else {
          document.getElementById('errorDiv').style = "color: red;";
        }
      }
    </script>
  </body>
</html>